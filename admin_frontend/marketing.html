<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScanSys Core - Marketing</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/css/theme.css"> 
    <link rel="stylesheet" href="/css/admin_styles.css">
</head>

<body>
    <div class="admin-container">
        <nav class="admin-nav">
            <div class="nav-group">
                <span class="nav-title">Marketing</span>
                <a href="/admin/dashboard">Painel</a>
                <a href="/admin/leads">Leads</a>
                <a href="/admin/marketing/create" class="active">Novo QR</a>
            </div>
            <div class="nav-group">
                <span class="nav-title">Eventos</span>
                <a href="/admin/events">Painel</a>
                <a href="/admin/events/create">Novo Evento</a>
                <a href="/admin/tickets">Venda de Eventos</a>
            </div>
            <div class="nav-user-group">
                <span id="user-display-name"></span>
                <a href="/admin/users" class="action-icon" title="Gerir Utilizadores"><i class="fas fa-users-cog"></i></a>
                <a href="#" id="logout-btn" title="Sair"><i class="fas fa-sign-out-alt"></i></a>
            </div>
            <div class="nav-user-group">
                <span id="user-display-name"></span>
                <a href="/admin/users" class="action-icon" title="Gerir Utilizadores"><i class="fas fa-users-cog"></i></a>
                <a href="#" id="logout-btn" title="Sair"><i class="fas fa-sign-out-alt"></i></a>
            </div>
        </nav>
        <h1>Gerador de QR Code de Marketing</h1>
        
        <form id="marketing-form">
            <div class="form-group">
                <label>Tipo de QR Code</label>
                <div class="qr-type-selector">
                    <label>
                        <input type="radio" name="qr-type" value="redirect" checked> Redirecionamento Simples
                    </label>
                    <label>
                        <input type="radio" name="qr-type" value="linkpage"> Página de Links
                    </label>
                </div>
            </div>
            <div class="form-group">
                <label for="title">Título (do QR Code ou da Página de Links)</label>
                <input type="text" id="title" placeholder="Ex: Campanha Instagram / Links da Minha Empresa" required>
            </div>
            <div id="redirect-section" class="form-group">
                <label for="destinationUrl">URL de Destino</label>
                <input type="url" id="destinationUrl" placeholder="https://www.seusite.com/promocao">
            </div>
            <div id="linkpage-section" class="hidden">
                <div class="form-group">
                    <label>Links da Página</label>
                    <div id="links-container"></div>
                    <button type="button" id="add-link-btn" class="action-btn" style="width: auto; padding: 10px 15px;">+ Adicionar Link</button>
                </div>
                <div class="form-group" style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #444;">
                    <label class="qr-type-selector">
                        <input type="checkbox" id="lead-capture-toggle"> Habilitar formulário de captura de leads
                    </label>
                </div>
                <div id="lead-capture-config" class="hidden">
                    <div class="form-group">
                        <label for="lead-capture-title">Título do Formulário</label>
                        <input type="text" id="lead-capture-title" placeholder="Ex: Participe do nosso sorteio!">
                    </div>
                    <div class="form-group">
                        <label for="lead-capture-button-text">Texto do Botão</label>
                        <input type="text" id="lead-capture-button-text" placeholder="Ex: Quero participar!">
                    </div>
                </div>
            </div>
            <button type="submit" style="margin-top: 20px;">Gerar QR Code</button>
        </form>
        <div id="response-area" class="hidden"></div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

    <script src="/auth.js"></script>

    <script src="https://cdn.jsdelivr.net/gh/davidshimjs/qrcodejs/qrcode.min.js"></script>
    <script src="/marketing.js"></script>
</body>
</html>